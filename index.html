<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U.R.N.™ - Pre-Engagement Decision Filter</title>
    
    <!-- Open Graph / LinkedIn Preview -->
    <meta property="og:title" content="U.R.N.™ - Pre-Engagement Decision Filter" />
    <meta property="og:description" content="Decide whether your involvement is actually necessary BEFORE time, energy, or identity gets invested. Assess through USEFUL • REQUIRED • NEEDED." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nikkymakes.github.io/U.R.N/" />
    <meta property="og:image" content="https://nikkymakes.github.io/U.R.N/preview.png" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="U.R.N.™ - Pre-Engagement Decision Filter" />
    <meta name="twitter:description" content="Decide whether your involvement is actually necessary BEFORE time, energy, or identity gets invested." />
    
    <!-- Regular Meta -->
    <meta name="description" content="U.R.N.™ helps you decide whether your involvement in a situation is actually necessary - BEFORE time, energy, or identity gets invested. Filter through USEFUL, REQUIRED, and NEEDED." />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 min-h-screen">
    <div id="app" class="min-h-screen text-gray-100 p-4 md:p-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-12">
                <div class="inline-block">
                    <h1 class="text-5xl md:text-6xl font-bold mb-2 bg-gradient-to-r from-amber-400 via-blue-400 to-green-400 text-transparent bg-clip-text">
                        U.R.N.™
                    </h1>
                    <p class="text-gray-400 text-sm tracking-wide">USEFUL • REQUIRED • NEEDED</p>
                </div>
                <p class="text-gray-300 mt-4 text-lg">The filter you use before burnout, not after</p>
            </div>

            <!-- Main Content -->
            <div id="content"></div>

            <!-- Footer -->
            <div class="text-center mt-12 pt-8 border-t border-slate-700">
                <p class="text-gray-400 text-sm">
                    U.R.N.™ by Adenike Omoregbee • © 2026 All Rights Reserved
                </p>
            </div>
        </div>
    </div>

    <script>
        // State management
        let state = {
            stage: 'welcome',
            profile: null,
            situation: '',
            answers: {},
            currentQuestion: 0
        };

        // Data
        const profiles = [
            {
                id: 'junior',
                title: 'Junior + Abundant Capacity',
                subtitle: 'Skill-Building Phase',
                threshold: 'USEFUL alone might be enough',
                description: 'You have energy to invest in learning opportunities'
            },
            {
                id: 'mid',
                title: 'Mid-Career + Moderate Capacity',
                subtitle: 'Strategic Positioning',
                threshold: 'Must be USEFUL + strategically aligned',
                description: 'You need to advance specific goals'
            },
            {
                id: 'senior',
                title: 'Senior + Stretched Capacity',
                subtitle: 'Capacity Protection',
                threshold: 'REQUIRED or decline',
                description: 'Highest threshold - irreplaceable or nothing'
            },
            {
                id: 'crisis',
                title: 'Crisis Mode',
                subtitle: 'Any Level + Capacity Crash',
                threshold: 'Can I maintain core commitments?',
                description: 'Maintenance is achievement'
            }
        ];

        const questions = [
            {
                text: "What problem is claimed to exist?",
                placeholder: "Describe the situation or request..."
            },
            {
                text: "What happens if you step back?",
                placeholder: "Be specific about the consequences..."
            },
            {
                text: "What specifically fails without you?",
                placeholder: "What breaks if you're not involved..."
            },
            {
                text: "Is your presence solving the problem — or absorbing discomfort?",
                placeholder: "Honest assessment..."
            },
            {
                text: "Who benefits if you stay? Who benefits if you leave?",
                placeholder: "Consider both sides..."
            }
        ];

        // Logic
        function getPlacement() {
            const text = Object.values(state.answers).join(' ').toLowerCase();
            
            if (state.profile.id === 'crisis') {
                if (text.includes('core') || text.includes('essential')) {
                    return {
                        decision: 'ACCEPT (LIMITED)',
                        color: 'text-amber-400',
                        reasoning: 'This aligns with maintaining core commitments. Set clear boundaries around scope.'
                    };
                }
                return {
                    decision: 'DECLINE',
                    color: 'text-red-400',
                    reasoning: 'Protect your capacity. This is not essential to your core commitments right now.'
                };
            }

            if (state.profile.id === 'senior') {
                if (text.includes('irreplaceable') || text.includes('only')) {
                    return {
                        decision: 'ACCEPT',
                        color: 'text-green-400',
                        reasoning: 'You are REQUIRED. This meets your threshold for engagement.'
                    };
                }
                return {
                    decision: 'DECLINE',
                    color: 'text-red-400',
                    reasoning: 'This does not meet your REQUIRED threshold. Someone else can handle this.'
                };
            }

            if (state.profile.id === 'mid') {
                if (text.includes('strategic') || text.includes('advance')) {
                    return {
                        decision: 'ACCEPT',
                        color: 'text-green-400',
                        reasoning: 'This is USEFUL and strategically aligned with your goals.'
                    };
                }
                return {
                    decision: 'LIMIT SCOPE',
                    color: 'text-blue-400',
                    reasoning: 'Define narrow parameters. Extract learning value without full commitment.'
                };
            }

            return {
                decision: 'ACCEPT',
                color: 'text-green-400',
                reasoning: 'This provides USEFUL learning opportunity. Set boundaries around time investment.'
            };
        }

        function getReassessmentAdvice() {
            const placement = getPlacement();
            
            // Crisis Mode - shortest reassessment window
            if (state.profile.id === 'crisis') {
                return {
                    message: 'Your capacity is stretched. Decisions made in crisis mode need frequent review.',
                    timeframe: 'Reassess in 1-2 weeks',
                    trigger: 'Or immediately if: Your capacity improves, the situation escalates, or you notice yourself absorbing rather than solving.'
                };
            }
            
            // Senior - context-dependent
            if (state.profile.id === 'senior') {
                if (placement.decision === 'ACCEPT') {
                    return {
                        message: 'Even "REQUIRED" engagements can become unnecessary as contexts shift.',
                        timeframe: 'Reassess in 1 month',
                        trigger: 'Or immediately if: Someone else becomes capable, the problem resolves itself, or you\'re no longer solving—just absorbing.'
                    };
                } else {
                    return {
                        message: 'Confirm your "no" is holding. Guilt and pressure can erode boundaries.',
                        timeframe: 'Reassess in 2 weeks',
                        trigger: 'Or immediately if: You find yourself explaining/justifying repeatedly, or the request genuinely changes.'
                    };
                }
            }
            
            // Mid-Career - strategic alignment check
            if (state.profile.id === 'mid') {
                return {
                    message: 'Strategic priorities shift. What aligned last month might not align today.',
                    timeframe: 'Reassess in 3-4 weeks',
                    trigger: 'Or immediately if: Your goals change, the scope expands beyond original agreement, or you notice mission creep.'
                };
            }
            
            // Junior - learning value check
            return {
                message: 'Track whether you\'re actually learning or just doing repetitive work.',
                timeframe: 'Reassess in 1 month',
                trigger: 'Or immediately if: The learning curve flatlines, the work becomes pure labor, or better opportunities emerge.'
            };
        }

        // Render functions
        function renderWelcome() {
            return `
                <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-8 backdrop-blur">
                    <h2 class="text-2xl font-semibold mb-4">Pre-Engagement Decision Filter</h2>
                    <p class="text-gray-300 mb-6">
                        This tool helps you decide whether your involvement in a situation is actually necessary — 
                        BEFORE time, energy, or identity gets invested.
                    </p>
                    <div class="bg-slate-900/50 p-6 rounded border border-slate-600 mb-6">
                        <h3 class="text-amber-400 font-semibold mb-3">How it works:</h3>
                        <ol class="space-y-2 text-gray-300">
                            <li>1. Establish your current profile (experience + capacity)</li>
                            <li>2. Describe the situation you're considering</li>
                            <li>3. Answer 5 assessment questions</li>
                            <li>4. Receive clear placement decision</li>
                        </ol>
                    </div>
                    <div class="bg-blue-900/20 border border-blue-700/50 rounded p-4 mb-6">
                        <p class="text-blue-200 text-sm">
                            <strong>Note:</strong> Decisions made today may not hold tomorrow. You'll receive guidance on when to reassess based on your profile.
                        </p>
                    </div>
                    <button onclick="goToProfile()" class="w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-slate-900 font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                        Start Assessment
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>
            `;
        }

        function renderProfile() {
            return `
                <div class="space-y-4">
                    <h2 class="text-2xl font-semibold mb-6">Select Your Current Profile</h2>
                    ${profiles.map(p => `
                        <button onclick='selectProfile(${JSON.stringify(p)})' class="w-full bg-slate-800/50 border border-slate-700 hover:border-amber-400 rounded-lg p-6 text-left transition-all group">
                            <h3 class="text-xl font-semibold text-amber-400 group-hover:text-amber-300 mb-1">
                                ${p.title}
                            </h3>
                            <p class="text-blue-400 text-sm mb-2">${p.subtitle}</p>
                            <p class="text-gray-400 text-sm mb-3">${p.description}</p>
                            <p class="text-gray-300 text-sm font-mono bg-slate-900/50 p-2 rounded border border-slate-600">
                                Threshold: ${p.threshold}
                            </p>
                        </button>
                    `).join('')}
                </div>
            `;
        }

        function renderSituation() {
            return `
                <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-8 backdrop-blur">
                    <h2 class="text-2xl font-semibold mb-2">Describe the Situation</h2>
                    <p class="text-gray-400 mb-6">What request or opportunity are you considering?</p>
                    <textarea id="situationInput" class="w-full bg-slate-900/50 border border-slate-600 rounded p-4 text-gray-100 placeholder-gray-500 focus:outline-none focus:border-amber-400 min-h-[150px] resize-y" placeholder="Example: I've been asked to join a committee that meets weekly...">${state.situation}</textarea>
                    <div class="flex gap-3 mt-6">
                        <button onclick="goToProfile()" class="px-6 py-3 border border-slate-600 rounded hover:border-slate-500 transition-all">
                            Back
                        </button>
                        <button onclick="submitSituation()" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                            Continue to Assessment
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            `;
        }

        function renderAssessment() {
            const q = questions[state.currentQuestion];
            return `
                <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-8 backdrop-blur">
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-gray-400">Question ${state.currentQuestion + 1} of ${questions.length}</span>
                            <div class="flex gap-1">
                                ${questions.map((_, idx) => `
                                    <div class="h-1 w-8 rounded ${idx <= state.currentQuestion ? 'bg-green-400' : 'bg-slate-600'}"></div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <h2 class="text-xl font-semibold mb-6 text-green-400">
                        ${q.text}
                    </h2>
                    
                    <textarea id="answerInput" class="w-full bg-slate-900/50 border border-slate-600 rounded p-4 text-gray-100 placeholder-gray-500 focus:outline-none focus:border-green-400 min-h-[150px] resize-y" placeholder="${q.placeholder}">${state.answers[state.currentQuestion + 1] || ''}</textarea>
                    
                    <div class="flex gap-3 mt-6">
                        <button onclick="goBack()" class="px-6 py-3 border border-slate-600 rounded hover:border-slate-500 transition-all">
                            Back
                        </button>
                        <button onclick="submitAnswer()" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                            ${state.currentQuestion < questions.length - 1 ? 'Next Question' : 'Get Placement'}
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            `;
        }

        function renderResult() {
            const placement = getPlacement();
            const reassessmentAdvice = getReassessmentAdvice();
            
            return `
                <div class="space-y-6">
                    <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-8 backdrop-blur text-center">
                        <h2 class="text-sm text-gray-400 uppercase tracking-wide mb-3">PLACEMENT</h2>
                        <div class="text-4xl md:text-5xl font-bold mb-4 ${placement.color}">
                            ${placement.decision}
                        </div>
                        <p class="text-gray-300 text-lg max-w-2xl mx-auto">
                            ${placement.reasoning}
                        </p>
                    </div>

                    <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 backdrop-blur">
                        <h3 class="text-lg font-semibold mb-3 text-blue-400">Your Profile</h3>
                        <p class="text-gray-300">${state.profile.title}</p>
                        <p class="text-gray-400 text-sm mt-1">Threshold: ${state.profile.threshold}</p>
                    </div>

                    <div class="bg-amber-900/20 border border-amber-700/50 rounded-lg p-6 backdrop-blur">
                        <div class="flex items-start gap-3">
                            <svg class="w-6 h-6 text-amber-400 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div>
                                <h3 class="text-lg font-semibold mb-2 text-amber-400">Reassess This Decision</h3>
                                <p class="text-gray-300 mb-3">${reassessmentAdvice.message}</p>
                                <p class="text-amber-300 font-semibold">${reassessmentAdvice.timeframe}</p>
                                <p class="text-gray-400 text-sm mt-2">${reassessmentAdvice.trigger}</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 backdrop-blur">
                        <h3 class="text-lg font-semibold mb-4 text-green-400">Share Your Result</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <button onclick="shareEmail()" class="bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-4 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                Email
                            </button>
                            <button onclick="shareLinkedIn()" class="bg-[#0077b5] hover:bg-[#006399] text-white font-semibold py-3 px-4 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path>
                                </svg>
                                LinkedIn
                            </button>
                            <button onclick="shareTwitter()" class="bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                                </svg>
                                X
                            </button>
                            <button onclick="shareFacebook()" class="bg-[#1877f2] hover:bg-[#166fe5] text-white font-semibold py-3 px-4 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path>
                                </svg>
                                Facebook
                            </button>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <button onclick="saveForReassessment()" class="w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-slate-900 font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"></path>
                                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                <polyline points="7 3 7 8 15 8"></polyline>
                            </svg>
                            Save for Reassessment
                        </button>
                        <div class="flex gap-3">
                            <button onclick="shareResult()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"></circle>
                                    <circle cx="6" cy="12" r="3"></circle>
                                    <circle cx="18" cy="19" r="3"></circle>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                                </svg>
                                Share
                            </button>
                            <button onclick="resetAssessment()" class="flex-1 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-6 rounded flex items-center justify-center gap-2 transition-all">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10"></polyline>
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                </svg>
                                New
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Action handlers
        function goToProfile() {
            state.stage = 'profile';
            render();
        }

        function selectProfile(profile) {
            state.profile = profile;
            state.stage = 'situation';
            render();
        }

        function submitSituation() {
            const input = document.getElementById('situationInput');
            if (input && input.value.trim()) {
                state.situation = input.value;
                state.answers[0] = input.value;
                state.stage = 'assessment';
                state.currentQuestion = 0;
                render();
            }
        }

        function submitAnswer() {
            const input = document.getElementById('answerInput');
            if (input && input.value.trim()) {
                state.answers[state.currentQuestion + 1] = input.value;
                
                if (state.currentQuestion < questions.length - 1) {
                    state.currentQuestion++;
                    render();
                } else {
                    state.stage = 'result';
                    render();
                }
            }
        }

        function goBack() {
            if (state.currentQuestion > 0) {
                state.currentQuestion--;
                render();
            } else {
                state.stage = 'situation';
                render();
            }
        }

        function resetAssessment() {
            state = {
                stage: 'welcome',
                profile: null,
                situation: '',
                answers: {},
                currentQuestion: 0
            };
            render();
        }

        function downloadResult() {
            const placement = getPlacement();
            const text = `U.R.N.™ Assessment Results
            
Profile: ${state.profile.title}
Threshold: ${state.profile.threshold}

Decision: ${placement.decision}

Reasoning: ${placement.reasoning}

---
Assessment completed at: ${new Date().toLocaleString()}
U.R.N.™ by Adenike Omoregbee • © 2026
https://nikkymakes.github.io/U.R.N/`;
            
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'urn-assessment-results.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        function shareResult() {
            const placement = getPlacement();
            const reassessment = getReassessmentAdvice();
            const shareText = `I just used U.R.N.™ to assess a decision.

My Profile: ${state.profile.title}
Decision: ${placement.decision}

${reassessment.timeframe}

Try it yourself: https://nikkymakes.github.io/U.R.N/`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'U.R.N.™ Assessment Result',
                    text: shareText,
                    url: 'https://nikkymakes.github.io/U.R.N/'
                }).catch(err => console.log('Error sharing:', err));
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Result copied to clipboard! You can now paste it anywhere.');
                }).catch(err => {
                    console.log('Clipboard error:', err);
                });
            }
        }

        function saveForReassessment() {
            const placement = getPlacement();
            const reassessment = getReassessmentAdvice();
            const assessmentDate = new Date().toLocaleDateString();
            
            const saveText = `U.R.N.™ ASSESSMENT - Save for Reassessment
            
DATE: ${assessmentDate}
PROFILE: ${state.profile.title}
DECISION: ${placement.decision}

SITUATION:
${state.answers[0]}

KEY ANSWERS:
Q2 (What happens if you step back?): ${state.answers[2]}
Q3 (What fails without you?): ${state.answers[3]}
Q4 (Solving or absorbing?): ${state.answers[4]}

REASONING: ${placement.reasoning}

⏰ REASSESSMENT:
${reassessment.timeframe}
${reassessment.trigger}

---
Reassess at: https://nikkymakes.github.io/U.R.N/
U.R.N.™ by Adenike Omoregbee • © 2026`;
            
            const blob = new Blob([saveText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            const dateString = new Date().toISOString().split('T')[0];
            a.download = `urn-assessment-${dateString}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function getShareText() {
            const placement = getPlacement();
            return `I just used U.R.N.™ to assess a decision. My placement: ${placement.decision}

U.R.N.™ (Useful, Required, Needed) is a pre-engagement decision filter - helping you decide whether your involvement is actually necessary BEFORE burnout.

Try it yourself: https://nikkymakes.github.io/U.R.N/

By Adenike Omoregbee`;
        }

        function shareEmail() {
            const placement = getPlacement();
            const subject = encodeURIComponent('My U.R.N.™ Assessment Result');
            const body = encodeURIComponent(`I just completed a U.R.N.™ assessment and got: ${placement.decision}

${placement.reasoning}

Profile: ${state.profile.title}

U.R.N.™ (Useful, Required, Needed) is a pre-engagement decision filter that helps you decide whether your involvement in a situation is actually necessary - BEFORE time, energy, or identity gets invested.

Try it yourself: https://nikkymakes.github.io/U.R.N/

U.R.N.™ by Adenike Omoregbee`);
            
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function shareLinkedIn() {
            const text = encodeURIComponent(getShareText());
            const url = 'https://nikkymakes.github.io/U.R.N/';
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
        }

        function shareTwitter() {
            const placement = getPlacement();
            const text = encodeURIComponent(`I used U.R.N.™ to assess a decision. Result: ${placement.decision}

Try this pre-engagement decision filter yourself: https://nikkymakes.github.io/U.R.N/

By @[YourTwitterHandle]`);
            window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
        }

        function shareFacebook() {
            const url = encodeURIComponent('https://nikkymakes.github.io/U.R.N/');
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
        }

        // Main render
        function render() {
            const content = document.getElementById('content');
            
            switch(state.stage) {
                case 'welcome':
                    content.innerHTML = renderWelcome();
                    break;
                case 'profile':
                    content.innerHTML = renderProfile();
                    break;
                case 'situation':
                    content.innerHTML = renderSituation();
                    break;
                case 'assessment':
                    content.innerHTML = renderAssessment();
                    break;
                case 'result':
                    content.innerHTML = renderResult();
                    break;
            }
        }

        // Initialize
        render();
    </script>
</body>
</html>
